<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--Ensure reponsive design on mobile devices-->
  <title>FixIt App</title> <!-- Page title shown in brower tab -->
  <link rel="stylesheet" href="Mission4.css"> <!--link to css for styling the app-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /> <!--leaflet css for interactive map-->
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Playwrite+AU+QLD:wght@100..400&family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <!-- Inline styles for background image and page setup -->
  <style>
    body, html {
      padding: 0;
      margin: 0;
      overflow-y: auto;
    }

    body {
      background-image:url(image/waikato.jpg);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }
  </style>
</head>


<body>
  <!-- ==================== Navbar ==================== -->
   <!-- Top navigation bar with logo and app name -->
   <nav class="navbar">
      <div class="navLogo">
        <img src="images/FixIt logo.PNG" alt="FixIt Logo" class="nav-logo">
        <span>FixIt</span>
      </div>
   </nav>
  

  <!-- ==================== APP MAIN CONTAINER ==================== -->
   <!-- wrapper containing all pages of the app -->
  <div class="app-container">


  <!-- ==================== PAGE 1: HOME PAGE ==================== -->
   <!-- This contain main heading, home page card container, introduction text & button to navigate to the next page -->
    <section class="page active" id="page-home">
      <h1 class="app-header">W E  L  C  O  M  E</h1>
      
      <div class="card home-card">
        <div class="card-header">
          <img src="image/mineFixIt.jpg" alt="FixIt Logo" class="home-logo">
        </div>
        <h3>"If it's broken, dirty or dangerous - let us know. FixIt makes reporting easy."</h3><br>

        <button onclick="nextPage()">Let's Get Started</button>
      </div>
    </section>


    <!-- ==================== PAGE 2: SELECT ISSUE TYPE ==================== -->
     <!-- This page has container holding all individual issue cards and click actions & nagivation button to go back -->
    <section class="page" id="page-issue-type">
      <h1 class="app-header"> SELECT ISSUE TYPE</h1>

      <div class="card-container">
        <div class="card" onclick="selectIssue('Graffiti')">
          <img src="image/graffiti.png" alt="Graffiti">
          <h3>Graffiti</h3>
        </div>
        <div class="card" onclick="selectIssue('Pothole')">
          <img src="image/potholes.jpg" alt="Pothole">  
          <h3>Pothole</h3>
        </div>
        <div class="card" onclick="selectIssue('Streetlight')">
          <img src="image/broken streetlight.jpg" alt="Streetlight">
          <h3>Broken Streetlight</h3>
        </div>
        <div class="card" onclick="selectIssue('Trash')">
          <img src="image/trash.jpg" alt="Trash">
          <h3>Trash</h3>
        </div>
        <div class="card" onclick="selectIssue('Others')">
          <img src="image/others.png" alt="Others">
        </div>
      </div>
      <div class="navigation">
        <button class="primary-btn" onclick="showPage(0)">Back</button>
      </div>    
    </section>


    <!-- ==================== PAGE 3: ENTER ISSUE DETAILS ==================== -->
     <!-- Page 3 contain a form container for descriping issues with image upload, text area for description, drag&drop and navigation buttons -->
    <section class="page" id="page-issue-details">
      <h1 class="app-header">ISSUE DETAILS</h1>

       <div class="issue-details-card">
        <textarea id="issue-description" rows="6" placeholder="Describe the issue..."></textarea>

         <div id="drop-zone">
          <p id="drop-text">Click here to upload a photo/file!</p>
          <input type="file" id="issue-photo" accept="image/*">
          <img id="preview" alt="Image Preview" style="display: none; max-width: 100%; margin-top: 10px;">
        </div>

        <div class="navigation">
          <button onclick="prevPage()">Back</button>
          <button onclick="nextPage()">Next</button>
        </div>
      </div>
    </section>


    <!-- ==================== PAGE 4: ADD LOCATION ==================== -->
     <!-- This page have addresss input and search button, placeholder for error msg, 
      map container(leaflet.js will show map here) also navigation buttons -->
    <section class="page" id="page-location">
      <h1 class="app-header">L O C A T I O N</h1>

     <div class="addressInputGroup">
      <input type="text" id="address-input" placeholder="Enter address">
      <button onclick="findAddress()">Find Address</button>
     </div>
      
    <div id="address-error" class="error-message"></div>

    <div id="map"></div>
    
      <div class="navigation">
        <button onclick="prevPage()">Back</button>
        <button onclick="nextPage()">Next</button>
      </div>
    </section>


<!-- ==================== PAGE 5: CONTACT DETAILS ====================-->
 <!-- Contact page has a card container for contact options, prompt for user to choose anonymous or shared and button 
  for each, hidden contact form which appears only if users chooses to share details and a submit button -->
 <section class="page" id="page-contact">
      <h1 class="app-header">CONCTACT DETAILS</h1>
       
      <div class="card contact-card">
        <p>Do you want to report anonymously or share your details?</p>
       
        <div style="display: flex; gap: 10px; margin-top: 20px; width: 100%; justify-content: center;">
          <button onclick="reportAnonymous()">Anonymous</button>
          <button onclick="shareDetails()">Share Details</button>
        </div>
      
      <div id="contact-form" style="display: none; margin-top: 20px;">
        <input type="text" id="name" placeholder="Name">
        <div id="name-error" class="error-message"></div> 

        <input type="email" id="email" placeholder="Email">
        <div id="email-error" class="error-message"></div>

        <button onclick="submitReport()">Submit Report</button>
      </div>
   </div>
    </section>
  

    <!-- ==================== PAGE 6: CONFIRMATION/ THANK YOU ====================-->
     <!-- This page have a card container for confirmation msg and msg shown if report is anonymous or shared contact details, -->
    <section class="page" id="page-confirmation">
      <h1 class="app-header">THANK YOU!</h1>
      
      <div class="confirm-card">
        <p id="anonymous-message" style= "display: none">
          Your anonymous report has been logged. Thank you for helping keep our community safe! <br><br>
          <a href="index.html?showSignup=1" class="primary-btn">Back to Home</a>
       </p>
         
        <p id="reference-container" style="display: none">
        This is to confirm that your report has been logged on. We will update you! <br><br>
         <br>Your reference number: <span id="reference-number"></span><br><br>
         <a href="index.html?showSignup=1" class="primary-btn">Back to Home</a>
        </p> 
      </div>
    </section>
       
    
  <!-- ==================== JAVASCRIPT LINKS ==================== -->
   <!-- leaflet JS library for interactive maps -->
   <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="Mission4.js"></script>
</body>
</html>